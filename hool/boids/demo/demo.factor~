! Copyright (C) 2019 Jack Lucas
! See http://factorcode.org/license.txt for BSD license.
USING: hool.octree assocs kernel combinators accessors locals
<<<<<<< HEAD
math.vectors vectors sequences math combinators.short-circuit arrays fry classes.struct continuations words sequences.generalizations hool.cubes prettyprint.backend prettyprint.custom parser random sequences.deep raylib.ffi hool.boids alien.enums namespaces hool.world math.ranges ;
=======
math.vectors vectors sequences math combinators.short-circuit arrays fry classes.struct continuations words sequences.generalizations hool.cubes prettyprint.backend prettyprint.custom parser random sequences.deep raylib.ffi hool.boids alien.enums namespaces hool.world ;
>>>>>>> b1c7a408ae3ba75681eb95809bac9c259fd79e34

IN: hool.boids.demo

: make-window ( -- )
    800 450 "Boids" init-window
    20 set-target-fps ;

: generate-boid ( -- boid )
<<<<<<< HEAD
    { 100 100 100  } [ random ] map
    { 100 100 100  } [ random ] map <cube>
    { { -10.0 10.0 } { -10.0 10.0 } { -10.0 10.0 } } [ [ [a,b] random ] with-datastack first ] map  <boid> ;

: run-world ( world -- world )
    world-update-camera render-world-objs
    update-world-objs generate-boid swap world-add-object
    reset? screenshot? within-bounds ;

: main ( --  world )
    make-window <hool-world> world-set-camera-mode
    [ run-world window-should-close not ] loop
    close-window ;

=======
    { 10 10 10  } [ random ] map
    { 20 20 20  } [ random ] map <cube>
    { 1 1 1 } <boid> ;

: add-boid ( world -- world )
    dup objects>> generate-boid suffix
    >>objects ;

: main ( --  )
    make-window
    { } generate-boid suffix
    <hool-world>
    [ render-world-objs update-world-objs update-world
      add-boid
      window-should-close not ] loop
    close-window drop ;

MAIN: main 
>>>>>>> b1c7a408ae3ba75681eb95809bac9c259fd79e34
